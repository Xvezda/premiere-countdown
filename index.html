<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="author" content="@Xvezda">
    <link rel="icon" href="data:;base64,iVBORwOKGO=">
    <title>Premiere Countdown</title>
    <style>
    @import url(https://fonts.googleapis.com/css?family=Amaranth);
    html, body {
      padding: 0;
      margin: 0;
    }
    #container {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    </style>
  </head>
  <body>
    <div id="container">
      <svg id="countdown" viewBox="0 0 300 300">
        <!-- TODO: Let's use animate tag instead of CSS -->
        <style type="text/css">
          <![CDATA[
          #countdown {
              width: 90vw;
              height: 90vh;
          }

          #colorful-strip {
              animation-name: colorful-strip-animation;
              animation-iteration-count: infinite;
              animation-duration: 10s;
              animation-timing-function: linear;
          }

          @keyframes colorful-strip-animation {
              from {
                  x: 0%;
              }
              to {
                  x: 100%;
              }
          }

          .brightness-box {
              animation-name: brightness-animation;
              animation-duration: 2s;
              animation-direction: alternate;
              animation-iteration-count: infinite;
              animation-timing-function: linear;
          }

          #brightness-1 { }
          #brightness-2 { animation-delay: -0.2s; }
          #brightness-3 { animation-delay: -0.4s; }
          #brightness-4 { animation-delay: -0.6s; }
          #brightness-5 { animation-delay: -0.8s; }

          @keyframes brightness-animation {
              from {
                  fill: #333;
              }
              to {
                  fill: #eee;
              }
          }

          #pink-bar {
              transform-origin: center;
              animation-name: pink-bar-animation;
              animation-duration: 1s;
              animation-direction: alternate;
              animation-timing-function: ease-in-out;
              animation-iteration-count: infinite;
          }

          @keyframes pink-bar-animation {
              0% {
                  transform: translateX(-30%) scaleX(0.45);
              }
              50% {
                  transform: scaleX(0.8);
              }
              100% {
                  transform: translateX(30%) scaleX(0.45);
              }
          }
          ]]>
        </style>
        <defs>
          <!-- FIXME: Make background transparent -->
          <clipPath id="main-circle">
            <circle r="150" cx="50%" cy="50%" fill="white" />
          </clipPath>

          <pattern
            id="black-boxes"
            width=".1"
            height="1"
          >
            <rect x="0" y="0" width="14" height="25" fill="black" />
          </pattern>

          <pattern
            id="black-boxes-pattern"
            width="1"
            height="1"
          >
            <rect x="0" y="0" width="100%" height="25" fill="url(#black-boxes)" />
          </pattern>

          <pattern
            id="colorful-strip"
            x="0" y="0"
            width="100%" height="55"
            patternUnits="userSpaceOnUse"
            patternContentUnits="objectBoundingBox"
          >
            <rect x="0" y="0" width="1" height="1" fill="#ff6441" />
            <rect x=".167" y="0" width="1" height="1" fill="#ff51c2" />
            <rect x=".334" y="0" width="1" height="1" fill="#9262a7" />
            <rect x=".501" y="0" width="1" height="1" fill="#5887ef" />
            <rect x=".668" y="0" width="1" height="1" fill="#fdd35c" />
            <rect x=".835" y="0" width="1" height="1" fill="#5cfdd8" />
          </pattern>

          <pattern
            id="red-boxes"
            width="165"
            height="30"
            patternUnits="userSpaceOnUse"
          >
            <rect x="15" y="0" width="150" height="30" fill="#f76060" />
          </pattern>

          <!-- START: vertical stripe -->
          <pattern
            id="vertical-stripe-1"
            width="14"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect x="0" y="0" width="9" height="45" fill="white" />
            <rect x="9" y="0" width="5" height="45" fill="black" />
          </pattern>

          <pattern
            id="vertical-stripe-pattern-1"
            width="100%"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect width="100%" height="45" fill="url(#vertical-stripe-1)" />
          </pattern>

          <pattern
            id="vertical-stripe-2"
            x="6"
            width="12"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect x="0" y="0" width="8" height="45" fill="white" />
            <rect x="8" y="0" width="4" height="45" fill="black" />
          </pattern>

          <pattern
            id="vertical-stripe-pattern-2"
            width="100%"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect width="100%" height="45" fill="url(#vertical-stripe-2)" />
          </pattern>

          <pattern
            id="vertical-stripe-3"
            width="5"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect x="0" y="0" width="3" height="45" fill="white" />
            <rect x="3" y="0" width="2" height="45" fill="black" />
          </pattern>

          <pattern
            id="vertical-stripe-pattern-3"
            width="100%"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect width="100%" height="45" fill="url(#vertical-stripe-3)" />
          </pattern>

          <pattern
            id="vertical-stripe-4"
            width="2"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect x="0" y="0" width="1" height="45" fill="white" />
            <rect x="1" y="0" width="1" height="45" fill="black" />
          </pattern>

          <pattern
            id="vertical-stripe-pattern-4"
            width="100%"
            height="45"
            patternUnits="userSpaceOnUse"
          >
            <rect width="100%" height="45" fill="url(#vertical-stripe-4)" />
          </pattern>


          <clipPath id="vertical-stripe-cut-1">
            <rect x="0" y="175" width="25%" height="45" />
          </clipPath>
          <clipPath id="vertical-stripe-cut-2">
            <rect x="25%" y="175" width="20%" height="45"  />
          </clipPath>
          <clipPath id="vertical-stripe-cut-3">
            <rect x="45%" y="175" width="25%" height="45"  />
          </clipPath>
          <clipPath id="vertical-stripe-cut-4">
            <rect x="70%" y="175" width="30%" height="45"  />
          </clipPath>

          <!-- END: vertical stripe -->

          <pattern
            id="wave-line"
            width=".221"
            height="1"
          >
            <path
              d="M 0 10 Q 20 0, 40 10 T 80 0"
              fill="transparent"
              stroke="white"
              stroke-width="6"
              stroke-linecap="square"
              stroke-linejoin="round"
            />
          </pattern>

          <pattern
            id="wave-line-pattern"
            y="20"
            width="88.5%"
            height="100%"
            patternUnits="userSpaceOnUse"
          >
            <rect x="0" y="0" width="100%" height="50" fill="url(#wave-line)" />
            <rect x="0" y="12" width="100%" height="50" fill="url(#wave-line)" />
            <rect x="0" y="24" width="100%" height="50" fill="url(#wave-line)" />
            <rect x="0" y="36" width="100%" height="50" fill="url(#wave-line)" />
          </pattern>

          <!-- TODO: Find cleaner way to do this -->
          <pattern
            id="triangular"
            width="20"
            height="20"
            patternUnits="userSpaceOnUse"
            viewBox="-0.5 0 20 20"
          >
            <g
              fill="transparent"
              stroke="gray"
              stroke-linejoin="miter"
              stroke-width=".5"
            >
              <polyline
                points="10 0, 0 5, 10 10, 10 0, 20 5, 10 10, 20 15, 10 20, 10 10, 0 15, 20 25"
              />
              <line x1="0" y1="0" x2="0" y2="20">
            </g>
          </pattern>

          <pattern
            id="triangular-pattern"
            x="3"
            width="100%"
            height="100%"
            patternUnits="userSpaceOnUse"
          >
            <rect width="100%" height="100%" fill="url(#triangular)" />
          </pattern>
        </defs>

        <g clip-path="url(#main-circle)">
          <rect x="0" y="0" width="100%" height="100%" fill="white" />
          <g>
            <rect x="0" y="0" width="100%" height="20" fill="#f19494" />
          </g>
          <g>
            <rect x="0" y="30" width="100%" height="30" fill="url(#red-boxes)">
              <animateTransform attributeName="transform" type="translate" dur="20s" from="0" to="300" repeatCount="indefinite" />
            </rect>
            <rect x="0" y="30" width="100%" height="30" fill="url(#red-boxes)">
              <animateTransform attributeName="transform" type="translate" dur="20s" from="-300" to="0" repeatCount="indefinite" />
            </rect>
          </g>
          <g>
            <!-- TODO: Can I specify translate of rect by ratio? -->
            <rect x="0" y="70" width="100%" height="55" fill="url(#colorful-strip)">
              <animateTransform attributeName="transform" type="translate" dur="10s" from="0" to="-300" repeatCount="indefinite" />
            </rect>
            <rect x="0" y="70" width="100%" height="55" fill="url(#colorful-strip)">
              <animateTransform attributeName="transform" type="translate" dur="10s" from="300" to="0" repeatCount="indefinite" />
            </rect>
          </g>
          <g>
            <!-- FIXME: Fix animation seamless -->
            <g clip-path="url(#vertical-stripe-cut-1)">
              <rect x="0" y="175" width="150" height="45" fill="url(#vertical-stripe-pattern-1)">
                <animateTransform attributeName="transform" type="translate" dur="20s" from="-75" to="0" repeatCount="indefinite" />
              </rect>
            </g>
            <g clip-path="url(#vertical-stripe-cut-2)">
              <rect x="25%" y="175" width="120" height="45" fill="url(#vertical-stripe-pattern-2)">
                <animateTransform attributeName="transform" type="translate" dur="30s" from="-60" to="0" repeatCount="indefinite" />
              </rect>
            </g>
            <g clip-path="url(#vertical-stripe-cut-3)">
              <rect x="45%" y="175" width="150" height="45" fill="url(#vertical-stripe-pattern-3)">
                <animateTransform attributeName="transform" type="translate" dur="40s" from="-75" to="0" repeatCount="indefinite" />
              </rect>
            </g>
            <g clip-path="url(#vertical-stripe-cut-4)">
              <rect x="70%" y="175" width="180" height="45" fill="url(#vertical-stripe-pattern-4)">
                <animateTransform attributeName="transform" type="translate" dur="50s" from="-90" to="0" repeatCount="indefinite" />
              </rect>
            </g>
          </g>
          <defs>
            <clipPath id="brightness-box">
              <rect x="0" y="220" width="100%" height="40" fill="white" />
            </clipPath>
          </defs>
          <g clip-path="url(#brightness-box)">
            <rect id="brightness-1" class="brightness-box" x="10" y="220" width="56" height="40" fill="black" />
            <rect id="brightness-2" class="brightness-box" x="66" y="220" width="56" height="40" fill="dimgray" />
            <rect id="brightness-3" class="brightness-box" x="122" y="220" width="56" height="40" fill="gray" />
            <rect id="brightness-4" class="brightness-box" x="178" y="220" width="56" height="40" fill="darkgray" />
            <rect id="brightness-5" class="brightness-box" x="234" y="220" width="56" height="40" fill="lightgray" />
          </g>
          <g>
            <rect x="0" y="260" width="100%" height="40" fill="#2ce0c7" />
            <rect x="150" y="260" width="50%" height="40" fill="#29b5c3" />
          </g>

          <g transform="rotate(30)">
            <rect
              x="0" y="15"
              width="1200" height="90"
              fill="url(#wave-line-pattern)"
            >
              <animateTransform attributeName="transform" type="translate" from="-600" to="0" repeatCount="indefinite" dur="20s" />
            </rect>
          </g>

          <g>
            <rect x="75" y="125" width="150" height="50" fill="#333" />
            <rect x="75" y="125" width="150" height="50" fill="url(#triangular-pattern)" />
            <text
              font-family="Amaranth"
              font-size="3.5rem"
              text-anchor="middle"
              letter-spacing="2.5"
              x="150"
              y="168"
            >
              <tspan fill="white">1:23</tspan>
            </text>
          </g>

          <g>
            <rect x="0" y="45" width="100%" height="25" fill="white" />
            <rect x="0" y="45" width="300" height="25" fill="url(#black-boxes-pattern)">
              <animateTransform
                attributeName="transform"
                type="translate"
                from="0"
                to="300"
                dur="10s"
                repeatCount="indefinite"
              />
            </rect>
            <rect x="0" y="45" width="300" height="25" fill="url(#black-boxes-pattern)">
              <animateTransform
                attributeName="transform"
                type="translate"
                from="-300"
                to="0"
                dur="10s"
                repeatCount="indefinite"
              />
            </rect>
          </g>
        </g>

        <!-- FIXME: Use mask or clipping instead -->
        <rect x="0" y="245" width="100%" height="15" fill="white" />

        <g id="pink-bar-group">
          <rect id="pink-bar" x="0" y="245" width="100%" height="15" fill="#f19494" />
        </g>
      </svg>
    </div>
  </body>
</html>
